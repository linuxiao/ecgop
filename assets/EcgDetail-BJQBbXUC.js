import{_ as q,f as R,e as P,r as _,m as B,g as m,o as k,c as G,b as r,d as l,w as a,h,J as L,k as o,K as $,x as F,L as H,t as d,q as C,E as y}from"./index-C_S8R5SK.js";import{_ as J}from"./EcgDiagnosis-BMNJi6k2.js";import{E as K}from"./EcgViewer-XhsIdw4u.js";const Q={class:"ecg-detail"},U={class:"action-bar"},j={class:"action-buttons"},z={class:"detail-content"},A={class:"card-header"},O={class:"viewer-container"},W={__name:"EcgDetail",setup(X){const D=R(),V=P(),E=_(null),i=_({name:"张三",gender:"男",age:45,patientNo:"P202401001",idCard:"310101197901011234",phone:"13800138000"}),c=_({deviceNo:"ECG001",deviceName:"心电图机1号",model:"ECG-1200G",checkTime:"2024-03-14 10:30:00",doctor:"李医生",department:"心内科"}),v=_({uploaded:!0,uploadTime:"2024-03-14 11:00:00",uploader:"张医生",reportId:"R202403140001"}),p=_({examNo:"E202403140001",requestDept:"心内科",requestDoctor:"王医生",requestTime:"2024-03-14 09:00:00",diagnosis:"疑似心肌缺血",purpose:"常规检查"}),N=_((()=>{const g=()=>{const e=[];for(let s=0;s<25;s++)e.push(.15*Math.sin(s/24*Math.PI));for(let s=0;s<10;s++)e.push(0);e.push(-.2);for(let s=0;s<5;s++)e.push(1.8*Math.pow(s/4,2));e.push(1.8);for(let s=4;s>=0;s--)e.push(1.8*Math.pow(s/4,2));e.push(-.5);for(let s=4;s>=0;s--)e.push(-.5*Math.pow(s/4,2));for(let s=0;s<15;s++)e.push(.05);for(let s=0;s<30;s++){const I=s/29;e.push(.3*Math.exp(-Math.pow((I-.6)/.3,2)))}for(let s=0;s<15;s++)e.push(0);return e},f=Math.ceil(15),t=[];for(let e=0;e<f;e++)t.push(...g());const u=(e,s=.02)=>e.map(I=>I+(Math.random()-.5)*s);return{I:u(t.map(e=>e*1)),II:u(t.map(e=>e*1.2)),III:u(t.map(e=>e*.8)),aVR:u(t.map(e=>e*-.5)),aVL:u(t.map(e=>e*.7)),aVF:u(t.map(e=>e*.9)),V1:u(t.map(e=>e*-1.2)),V2:u(t.map(e=>e*1.8)),V3:u(t.map(e=>e*1.5)),V4:u(t.map(e=>e*1.2)),V5:u(t.map(e=>e*.9)),V6:u(t.map(e=>e*.7))}})()),M=()=>{V.back()},w=()=>{V.push(`/ecg/${D.params.id}/diagnosis`)},x=g=>{y.success("判读结果已提交")},S=()=>{y.success("开始上传到医共体")},T=()=>{y.success("开始打印")};return B(()=>{D.params.id}),(g,n)=>{const b=m("el-icon"),f=m("el-button"),t=m("el-descriptions-item"),u=m("el-descriptions"),e=m("el-card"),s=m("el-tag");return k(),G("div",Q,[r("div",U,[l(f,{onClick:M},{default:a(()=>[l(b,null,{default:a(()=>[l(h(L))]),_:1}),n[0]||(n[0]=o("返回 "))]),_:1}),r("div",j,[l(f,{type:"primary",onClick:w},{default:a(()=>[l(b,null,{default:a(()=>[l(h($))]),_:1}),n[1]||(n[1]=o("判读 "))]),_:1}),l(f,{type:"success",onClick:S},{default:a(()=>[l(b,null,{default:a(()=>[l(h(F))]),_:1}),n[2]||(n[2]=o("上传医共体 "))]),_:1}),l(f,{type:"info",onClick:T},{default:a(()=>[l(b,null,{default:a(()=>[l(h(H))]),_:1}),n[3]||(n[3]=o("打印 "))]),_:1})])]),r("div",z,[l(e,{class:"info-card"},{header:a(()=>n[4]||(n[4]=[r("div",{class:"card-header"},[r("span",null,"患者信息")],-1)])),default:a(()=>[l(u,{column:3,border:""},{default:a(()=>[l(t,{label:"患者姓名"},{default:a(()=>[o(d(i.value.name),1)]),_:1}),l(t,{label:"性别"},{default:a(()=>[o(d(i.value.gender),1)]),_:1}),l(t,{label:"年龄"},{default:a(()=>[o(d(i.value.age)+"岁",1)]),_:1}),l(t,{label:"病历号"},{default:a(()=>[o(d(i.value.patientNo),1)]),_:1}),l(t,{label:"身份证号"},{default:a(()=>[o(d(i.value.idCard),1)]),_:1}),l(t,{label:"联系电话"},{default:a(()=>[o(d(i.value.phone),1)]),_:1})]),_:1})]),_:1}),l(e,{class:"info-card"},{header:a(()=>n[5]||(n[5]=[r("div",{class:"card-header"},[r("span",null,"设备信息")],-1)])),default:a(()=>[l(u,{column:3,border:""},{default:a(()=>[l(t,{label:"设备编号"},{default:a(()=>[o(d(c.value.deviceNo),1)]),_:1}),l(t,{label:"设备名称"},{default:a(()=>[o(d(c.value.deviceName),1)]),_:1}),l(t,{label:"设备型号"},{default:a(()=>[o(d(c.value.model),1)]),_:1}),l(t,{label:"检查时间"},{default:a(()=>[o(d(c.value.checkTime),1)]),_:1}),l(t,{label:"检查医生"},{default:a(()=>[o(d(c.value.doctor),1)]),_:1}),l(t,{label:"科室"},{default:a(()=>[o(d(c.value.department),1)]),_:1})]),_:1})]),_:1}),l(e,{class:"info-card"},{header:a(()=>[r("div",A,[n[8]||(n[8]=r("span",null,"医共体信息",-1)),v.value.uploaded?(k(),C(s,{key:0,type:"success"},{default:a(()=>n[6]||(n[6]=[o("已上传")])),_:1})):(k(),C(s,{key:1,type:"info"},{default:a(()=>n[7]||(n[7]=[o("未上传")])),_:1}))])]),default:a(()=>[l(u,{column:2,border:""},{default:a(()=>[l(t,{label:"上传状态"},{default:a(()=>[o(d(v.value.uploaded?"已上传":"未上传"),1)]),_:1}),l(t,{label:"上传时间"},{default:a(()=>[o(d(v.value.uploadTime||"-"),1)]),_:1}),l(t,{label:"上传人"},{default:a(()=>[o(d(v.value.uploader||"-"),1)]),_:1}),l(t,{label:"报告ID"},{default:a(()=>[o(d(v.value.reportId||"-"),1)]),_:1})]),_:1})]),_:1}),l(e,{class:"info-card"},{header:a(()=>n[9]||(n[9]=[r("div",{class:"card-header"},[r("span",null,"HIS检查信息")],-1)])),default:a(()=>[l(u,{column:2,border:""},{default:a(()=>[l(t,{label:"检查号"},{default:a(()=>[o(d(p.value.examNo),1)]),_:1}),l(t,{label:"申请科室"},{default:a(()=>[o(d(p.value.requestDept),1)]),_:1}),l(t,{label:"申请医生"},{default:a(()=>[o(d(p.value.requestDoctor),1)]),_:1}),l(t,{label:"申请时间"},{default:a(()=>[o(d(p.value.requestTime),1)]),_:1}),l(t,{label:"临床诊断",span:2},{default:a(()=>[o(d(p.value.diagnosis),1)]),_:1}),l(t,{label:"检查目的",span:2},{default:a(()=>[o(d(p.value.purpose),1)]),_:1})]),_:1})]),_:1}),l(e,{class:"info-card ecg-viewer"},{header:a(()=>n[10]||(n[10]=[r("div",{class:"card-header"},[r("span",null,"心电图")],-1)])),default:a(()=>[r("div",O,[l(K,{data:N.value},null,8,["data"])])]),_:1})]),l(J,{ref_key:"diagnosisRef",ref:E,onSubmit:x},null,512)])}}},le=q(W,[["__scopeId","data-v-728b74b2"]]);export{le as default};
