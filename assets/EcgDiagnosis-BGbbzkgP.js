import{_ as C,f as D,e as N,r as I,m as P,M as B,g as i,o as L,c as R,b as u,d as a,w as t,h as x,J as F,k as c,N as S,t as f,E}from"./index-C_S8R5SK.js";import{E as U}from"./EcgViewer-XhsIdw4u.js";function G(){const d=[];for(let e=0;e<40;e++)d.push(.15*Math.sin(Math.PI*e/40));for(let e=0;e<25;e++)d.push(0);d.push(-.15);for(let e=0;e<10;e++)d.push(1.5*Math.pow(Math.sin(Math.PI*e/10),2));d.push(-.3);for(let e=0;e<50;e++)d.push(0);for(let e=0;e<80;e++)d.push(.25*Math.sin(Math.PI*e/80));for(let e=0;e<95;e++)d.push(0);return d}function T(){const d=G(),e=d.length,h=500*20,s={I:[],II:[],III:[],aVR:[],aVL:[],aVF:[],V1:[],V2:[],V3:[],V4:[],V5:[],V6:[]};for(let p=0;p<h;p++){const r=p%e,l=d[r],n=Math.random()*.02-.01;s.I.push(l*1+n),s.II.push(l*1.2+n),s.III.push(l*.8+n),s.aVR.push(l*-.5+n),s.aVL.push(l*.7+n),s.aVF.push(l*.9+n),s.V1.push(l*1.1+n),s.V2.push(l*1.8+n),s.V3.push(l*2+n),s.V4.push(l*1.7+n),s.V5.push(l*1.2+n),s.V6.push(l*.9+n)}return s}const J=T(),j={class:"ecg-diagnosis"},q={class:"action-bar"},z={class:"action-buttons"},A={class:"content-container"},H={class:"info-section"},K={class:"viewer-container"},O={__name:"EcgDiagnosis",setup(d){const e=D(),h=N(),s=I({name:"张三",gender:"男",age:45,patientNo:"P202401001",idCard:"310101197901011234",phone:"13800138000"}),p=I(null),r=I({analysis:"",diagnosis:"",suggestion:""}),l=()=>{h.back()},n=async()=>{try{E.success("保存成功"),h.back()}catch{E.error("保存失败")}};return P(async()=>{const g=e.params.id;console.log("ECG ID:",g),await B(),p.value=J,console.log("Loaded ECG Data:",p.value)}),(g,o)=>{const y=i("el-icon"),w=i("el-button"),_=i("el-descriptions-item"),M=i("el-descriptions"),V=i("el-card"),v=i("el-input"),b=i("el-form-item"),k=i("el-form");return L(),R("div",j,[u("div",q,[a(w,{onClick:l},{default:t(()=>[a(y,null,{default:t(()=>[a(x(F))]),_:1}),o[3]||(o[3]=c("返回 "))]),_:1}),u("div",z,[a(w,{type:"primary",onClick:n},{default:t(()=>[a(y,null,{default:t(()=>[a(x(S))]),_:1}),o[4]||(o[4]=c("保存 "))]),_:1})])]),u("div",A,[u("div",H,[a(V,{class:"info-card"},{header:t(()=>o[5]||(o[5]=[u("div",{class:"card-header"},[u("span",null,"患者信息")],-1)])),default:t(()=>[a(M,{column:2,border:""},{default:t(()=>[a(_,{label:"患者姓名"},{default:t(()=>[c(f(s.value.name),1)]),_:1}),a(_,{label:"性别"},{default:t(()=>[c(f(s.value.gender),1)]),_:1}),a(_,{label:"年龄"},{default:t(()=>[c(f(s.value.age)+"岁",1)]),_:1}),a(_,{label:"病历号"},{default:t(()=>[c(f(s.value.patientNo),1)]),_:1}),a(_,{label:"身份证号"},{default:t(()=>[c(f(s.value.idCard),1)]),_:1}),a(_,{label:"联系电话"},{default:t(()=>[c(f(s.value.phone),1)]),_:1})]),_:1})]),_:1}),a(V,{class:"diagnosis-card"},{header:t(()=>o[6]||(o[6]=[u("div",{class:"card-header"},[u("span",null,"判读结果")],-1)])),default:t(()=>[a(k,{model:r.value,"label-width":"100px"},{default:t(()=>[a(b,{label:"分析结果"},{default:t(()=>[a(v,{modelValue:r.value.analysis,"onUpdate:modelValue":o[0]||(o[0]=m=>r.value.analysis=m),type:"textarea",rows:3,placeholder:"请输入分析结果"},null,8,["modelValue"])]),_:1}),a(b,{label:"医生诊断"},{default:t(()=>[a(v,{modelValue:r.value.diagnosis,"onUpdate:modelValue":o[1]||(o[1]=m=>r.value.diagnosis=m),type:"textarea",rows:3,placeholder:"请输入医生诊断"},null,8,["modelValue"])]),_:1}),a(b,{label:"建议"},{default:t(()=>[a(v,{modelValue:r.value.suggestion,"onUpdate:modelValue":o[2]||(o[2]=m=>r.value.suggestion=m),type:"textarea",rows:3,placeholder:"请输入建议"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})]),a(V,{class:"ecg-viewer-card"},{header:t(()=>o[7]||(o[7]=[u("div",{class:"card-header"},[u("span",null,"心电图")],-1)])),default:t(()=>[u("div",K,[a(U,{data:p.value},null,8,["data"])])]),_:1})])])}}},X=C(O,[["__scopeId","data-v-b5f20bf3"]]);export{X as default};
