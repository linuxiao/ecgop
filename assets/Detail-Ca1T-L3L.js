import{_ as $,f as B,e as I,r as u,A as P,g as r,o as R,c as q,d as e,w as t,b as d,k as a,t as s,E as y}from"./index-CYhqdMvL.js";const H={class:"visit-detail"},A={class:"card-header"},G={class:"actions"},L={class:"section mt-16"},M={class:"section mt-16"},j={__name:"Detail",setup(z){const g=B(),m=I(),w=g.params.visitNo,l=u({visitNo:"V202401001",visitTime:"2024-03-14 09:30:00",status:"已完成",patientNo:"P202401001",patientName:"张三",gender:"男",age:45,phone:"13800138000",insuranceType:"城镇职工医保",department:"心内科",doctor:"李医生",complaint:"胸闷、气短，持续一周",presentIllness:"患者一周前无明显诱因出现胸闷、气短，活动后加重，休息后可缓解，伴有心慌、出汗等症状",pastHistory:"高血压病史5年，长期服用降压药物",diagnosis:"1. 冠心病 2. 高血压 3级 极高危",treatment:"建议进行心电图检查和血常规检查，必要时进行冠脉造影",advice:`1. 注意休息，避免剧烈运动
2. 规律服药
3. 定期复查`}),N=u([{examNo:"E202401001",examType:"心电图",examTime:"2024-03-14 10:00:00",device:"ECG001",doctor:"王医生",status:"已完成",result:"窦性心律，心电轴正常，ST-T改变"}]),T=u([{prescriptionNo:"P202401001",medicineType:"西药",medicineName:"硝酸甘油片",specification:"0.5mg*50片/盒",dosage:"0.5mg",frequency:"每日3次",duration:"2周",notes:"餐前服用"}]),x=P(()=>l.value.status==="进行中"),k=p=>({已完成:"success",进行中:"warning",待就诊:"info",已取消:"danger"})[p]||"info",E=p=>({已完成:"success",进行中:"warning",待检查:"info",已取消:"danger"})[p]||"info",C=()=>{m.push(`/patients/${l.value.patientNo}`)},V=p=>{p.examType==="心电图"?m.push(`/ecg/${p.examNo}`):y.info("暂不支持查看该类型检查详情")},D=()=>{y.success("开始心电检查")};return(async()=>{console.log("Loading visit detail for:",w)})(),(p,n)=>{const _=r("el-button"),o=r("el-descriptions-item"),f=r("el-tag"),v=r("el-link"),b=r("el-descriptions"),i=r("el-table-column"),h=r("el-table"),S=r("el-card");return R(),q("div",H,[e(S,{class:"detail-card"},{header:t(()=>[d("div",A,[n[3]||(n[3]=d("span",{class:"title"},"就诊详情",-1)),d("div",G,[e(_,{type:"primary",onClick:D,disabled:!x.value},{default:t(()=>n[1]||(n[1]=[a(" 开始心电检查 ")])),_:1},8,["disabled"]),e(_,{onClick:n[0]||(n[0]=c=>p.$router.back())},{default:t(()=>n[2]||(n[2]=[a("返回")])),_:1})])])]),default:t(()=>[e(b,{title:"基本信息",column:3,border:""},{default:t(()=>[e(o,{label:"就诊编号"},{default:t(()=>[a(s(l.value.visitNo),1)]),_:1}),e(o,{label:"就诊时间"},{default:t(()=>[a(s(l.value.visitTime),1)]),_:1}),e(o,{label:"就诊状态"},{default:t(()=>[e(f,{type:k(l.value.status)},{default:t(()=>[a(s(l.value.status),1)]),_:1},8,["type"])]),_:1}),e(o,{label:"患者编号"},{default:t(()=>[e(v,{type:"primary",onClick:C},{default:t(()=>[a(s(l.value.patientNo),1)]),_:1})]),_:1}),e(o,{label:"患者姓名"},{default:t(()=>[a(s(l.value.patientName),1)]),_:1}),e(o,{label:"性别"},{default:t(()=>[a(s(l.value.gender),1)]),_:1}),e(o,{label:"年龄"},{default:t(()=>[a(s(l.value.age)+"岁",1)]),_:1}),e(o,{label:"联系电话"},{default:t(()=>[a(s(l.value.phone),1)]),_:1}),e(o,{label:"医保类型"},{default:t(()=>[a(s(l.value.insuranceType),1)]),_:1})]),_:1}),e(b,{title:"就诊信息",column:2,border:"",class:"mt-16"},{default:t(()=>[e(o,{label:"就诊科室"},{default:t(()=>[a(s(l.value.department),1)]),_:1}),e(o,{label:"主治医生"},{default:t(()=>[a(s(l.value.doctor),1)]),_:1}),e(o,{label:"主诉",span:2},{default:t(()=>[a(s(l.value.complaint),1)]),_:1}),e(o,{label:"现病史",span:2},{default:t(()=>[a(s(l.value.presentIllness),1)]),_:1}),e(o,{label:"既往史",span:2},{default:t(()=>[a(s(l.value.pastHistory),1)]),_:1}),e(o,{label:"诊断结果",span:2},{default:t(()=>[a(s(l.value.diagnosis),1)]),_:1}),e(o,{label:"处理意见",span:2},{default:t(()=>[a(s(l.value.treatment),1)]),_:1}),e(o,{label:"���嘱",span:2},{default:t(()=>[a(s(l.value.advice),1)]),_:1})]),_:1}),d("div",L,[n[4]||(n[4]=d("div",{class:"section-header"},[d("h3",null,"检查记录")],-1)),e(h,{data:N.value,border:"",style:{width:"100%"}},{default:t(()=>[e(i,{prop:"examNo",label:"检查编号",width:"120"},{default:t(({row:c})=>[e(v,{type:"primary",onClick:J=>V(c)},{default:t(()=>[a(s(c.examNo),1)]),_:2},1032,["onClick"])]),_:1}),e(i,{prop:"examType",label:"检查类型",width:"120"}),e(i,{prop:"examTime",label:"检查时间",width:"160"}),e(i,{prop:"device",label:"检查设备",width:"120"}),e(i,{prop:"doctor",label:"检查医生",width:"100"}),e(i,{prop:"status",label:"状态",width:"100"},{default:t(({row:c})=>[e(f,{type:E(c.status)},{default:t(()=>[a(s(c.status),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"result",label:"检查结果","min-width":"200","show-overflow-tooltip":""})]),_:1},8,["data"])]),d("div",M,[n[5]||(n[5]=d("div",{class:"section-header"},[d("h3",null,"处方信息")],-1)),e(h,{data:T.value,border:"",style:{width:"100%"}},{default:t(()=>[e(i,{prop:"prescriptionNo",label:"处方编号",width:"120"}),e(i,{prop:"medicineType",label:"药品类型",width:"100"}),e(i,{prop:"medicineName",label:"药品名称","min-width":"200"}),e(i,{prop:"specification",label:"规格",width:"120"}),e(i,{prop:"dosage",label:"用量",width:"100"}),e(i,{prop:"frequency",label:"频次",width:"100"}),e(i,{prop:"duration",label:"疗程",width:"100"}),e(i,{prop:"notes",label:"备注","min-width":"150","show-overflow-tooltip":""})]),_:1},8,["data"])])]),_:1})])}}},O=$(j,[["__scopeId","data-v-4cce0a46"]]);export{O as default};
