import{_ as ls,r as w,a as be,A as ye,g as c,a2 as as,o as d,c as f,b as t,d as s,w as l,h as p,a3 as ns,a4 as os,G as is,k as u,t as r,z as ke,a5 as J,a6 as R,a7 as W,F as I,n as z,q as V,a8 as ds,D as A,s as ne,a9 as we,C,y as oe,L as us,H as rs,Y as cs,aa as ms,ab as he,ac as fs,E as M,ad as Ve,ae as ps,af as vs,B as _s,ag as gs}from"./index-BoCTFli4.js";const bs={class:"inspection-page"},ys={class:"inspection-items card-container"},ks={class:"items-header"},ws={class:"header-title"},hs={class:"header-actions"},Vs={class:"inspection-filter"},Cs={class:"filter-content"},xs={class:"filter-wrapper"},Is={class:"status-filter"},Us={class:"select-option"},zs={class:"select-option"},Ts={class:"select-option"},Ss={class:"category-title"},Es={class:"item-list"},Ps={class:"item-info"},$s={class:"item-name"},Hs={class:"item-status"},Fs={key:1,class:"unchecked"},Ls={key:0,class:"chart-container"},Bs={class:"chart-item"},Ds={class:"progress-value"},Rs={class:"chart-item"},Ws={class:"progress-value"},As={class:"chart-item"},Ms={class:"progress-value"},Ns={key:0,class:"inspection-progress"},Ks={class:"progress-wrapper"},Os={class:"progress-info"},qs={class:"progress-text"},Gs={class:"progress-percentage"},Ys={class:"inspection-records card-container"},js={class:"records-header"},Js={class:"header-title"},Qs={class:"header-actions"},Xs={class:"records-content"},Zs={class:"records-filter"},et={class:"form-buttons"},st={class:"records-table-container"},tt={class:"record-detail"},lt={class:"item-category"},at={class:"item-results"},nt={class:"table-footer"},ot={class:"report-preview"},it={class:"report-header"},dt={class:"report-title"},ut={class:"report-info"},rt={class:"info-item"},ct={class:"info-value"},mt={class:"info-item"},ft={class:"info-value"},pt={class:"info-item"},vt={class:"info-value"},_t={class:"info-item"},gt={key:0,class:"report-content"},bt={class:"report-overview"},yt={class:"overview-icon"},kt={class:"overview-info"},wt={class:"overview-value"},ht={class:"overview-item success"},Vt={class:"overview-icon"},Ct={class:"overview-info"},xt={class:"overview-value"},It={class:"overview-item warning"},Ut={class:"overview-icon"},zt={class:"overview-info"},Tt={class:"overview-value"},St={class:"overview-item error"},Et={class:"overview-icon"},Pt={class:"overview-info"},$t={class:"overview-value"},Ht={class:"report-section"},Ft={class:"status-item"},Lt={class:"status-item"},Bt={class:"status-item"},Dt={class:"status-item"},Rt={class:"status-item"},Wt={class:"report-section"},At={class:"status-item"},Mt={class:"status-item"},Nt={class:"status-item"},Kt={class:"status-item"},Ot={class:"report-section"},qt={class:"status-item"},Gt={class:"status-item"},Yt={class:"status-item"},jt={class:"status-item"},Jt={class:"report-section"},Qt={class:"status-item"},Xt={class:"status-item"},Zt={class:"report-section conclusion-section"},el={class:"conclusion-content"},sl={key:0,class:"conclusion-block error"},tl={class:"block-header"},ll={class:"error-list"},al={key:1,class:"conclusion-block warning"},nl={class:"block-header"},ol={class:"warning-list"},il={class:"conclusion-block suggestion"},dl={class:"block-header"},ul={class:"suggestion-list"},rl={__name:"Inspection",setup(cl){const N=w(["1","2","3","4","5"]),K=w(""),O=w(""),T=w(!1),P=w(0),ie=w(null),Q=w(1),X=w(10),Z=w(!1),q=w(!1),v=w(null),S=be({dateRange:[],status:""}),ee=w([{id:"1",name:"系统状态",items:[{id:"1-1",name:"CPU使用率",checking:!1,done:!1},{id:"1-2",name:"内存使用率",checking:!1,done:!1},{id:"1-3",name:"磁盘空间",checking:!1,done:!1},{id:"1-4",name:"系统负载",checking:!1,done:!1},{id:"1-5",name:"网络状态",checking:!1,done:!1}]},{id:"2",name:"HIS集成检查",items:[{id:"2-1",name:"HIS服务器连通性",checking:!1,done:!1},{id:"2-2",name:"API接口可用性",checking:!1,done:!1},{id:"2-3",name:"患者信息拉取测试",checking:!1,done:!1},{id:"2-4",name:"医嘱信息同步测试",checking:!1,done:!1},{id:"2-5",name:"报告推送接口测试",checking:!1,done:!1}]},{id:"3",name:"心电图系统检查",items:[{id:"3-1",name:"心电图服务状态",checking:!1,done:!1},{id:"3-2",name:"心电图登录认证",checking:!1,done:!1},{id:"3-3",name:"心电图数据上传",checking:!1,done:!1},{id:"3-4",name:"FTP服务连通性",checking:!1,done:!1},{id:"3-5",name:"FTP上传测试",checking:!1,done:!1},{id:"3-6",name:"心电图解析服务",checking:!1,done:!1},{id:"3-7",name:"心电图判读引擎",checking:!1,done:!1},{id:"3-8",name:"报告生成服务",checking:!1,done:!1}]},{id:"4",name:"医共体系统检查",items:[{id:"4-1",name:"医共体服务状态",checking:!1,done:!1},{id:"4-2",name:"远程服务器连通性",checking:!1,done:!1},{id:"4-3",name:"数据同步服务",checking:!1,done:!1},{id:"4-4",name:"远程会诊服务",checking:!1,done:!1},{id:"4-5",name:"数据提交测试",checking:!1,done:!1},{id:"4-6",name:"远程协作功能",checking:!1,done:!1}]},{id:"5",name:"数据安全检查",items:[{id:"5-1",name:"数据库备份状态",checking:!1,done:!1},{id:"5-2",name:"数据一致性检查",checking:!1,done:!1},{id:"5-3",name:"数据加密传输",checking:!1,done:!1},{id:"5-4",name:"访问权限检查",checking:!1,done:!1},{id:"5-5",name:"安全日志审核",checking:!1,done:!1}]}]),Ce=ye(()=>ee.value.map(a=>({...a,items:a.items.filter(e=>{const n=!K.value||e.name.toLowerCase().includes(K.value.toLowerCase()),i=!O.value||e.done&&e.status===O.value;return n&&i})})).filter(a=>a.items.length>0)),xe=async()=>{if(T.value||!await fs.confirm("确定要开始系统巡检吗？巡检过程可能需要几分钟时间。","开始巡检",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).catch(()=>!1))return;T.value=!0,P.value=0,N.value=[];const e=ee.value.reduce((i,_)=>i+_.items.length,0);let n=0;for(const i of ee.value){N.value=[i.id];for(const _ of i.items)ie.value=_,_.checking=!0,await new Promise(te=>setTimeout(te,1e3)),_.checking=!1,_.done=!0,_.status=["success","warning","error"][Math.floor(Math.random()*3)],n++,P.value=Math.floor(n/e*100)}T.value=!1,M.success("巡检完成")},Ie=a=>{X.value=a},Ue=a=>{Q.value=a},de=()=>{Z.value=!0,setTimeout(()=>{Z.value=!1},500)},ze=()=>{S.dateRange=[],S.status="",de()},Te=a=>{v.value=a,q.value=!0},Se=()=>{M.success("导出Word成功")},Ee=()=>{M.success("导出Excel成功")},Pe=()=>{M.success("导出PDF成功")},$e=a=>({success:J,warning:R,error:W})[a],ue=a=>({正常:"success",警告:"warning",异常:"danger"})[a]||"info",re=a=>{const e=a.items.filter(_=>_.done);if(e.length===0)return"";const n=e.some(_=>_.status==="error"),i=e.some(_=>_.status==="warning");return n?"danger":i?"warning":"success"},He=a=>{const e=a.items.filter(_=>_.done);if(e.length===0)return"未检查";if(e.length<a.items.length)return"检查中";const n=re(a);return{danger:"异常",warning:"警告",success:"正常"}[n]||"未知"},Fe=a=>L(a)>0?"error":F(a)>0?"warning":"success",Le=a=>L(a)>0?W:F(a)>0?R:J,Be=w([{id:1,name:"管理员"},{id:2,name:"运维人员1"},{id:3,name:"运维人员2"}]),H=w(!1),b=be({type:"daily",time:null,weekday:"1",day:1,notifications:[],notifyUsers:[]}),De=()=>{M.success("定时巡检设置成功"),H.value=!1},Re=()=>{H.value=!0},ce=w(32),me=w(45),fe=w(85),We=a=>({"1-1":ps,"1-2":Ve,"1-3":vs,"2-1":_s,"2-2":gs,"2-3":he})[a.id]||Ve,Ae=a=>({"1-1":"32%","1-2":"45%","1-3":"85%","2-1":"20ms","2-2":"正常","2-3":"同步中"})[a.id]||"",se=a=>a<60?"#67C23A":a<80?"#E6A23C":"#F56C6C",pe=w([{id:"1",startTime:"2024-01-20 10:00:00",endTime:"2024-01-20 10:05:23",duration:"5分23秒",status:"正常",operator:"管理员",results:[{category:"系统状态",items:[{name:"CPU使用率",status:"success",message:"32%, 正常范围内"},{name:"内存使用率",status:"success",message:"45%, 正常范围内"},{name:"磁盘空间",status:"warning",message:"85%, 建议及清理"},{name:"系统负载",status:"success",message:"0.75, 运行正常"},{name:"网络状态",status:"success",message:"延迟5ms, 正常"}]},{category:"HIS集成检查",items:[{name:"HIS服务器连通性",status:"success",message:"响应时间20ms, 连接正常"},{name:"API接口可用性",status:"success",message:"全部接口响应正常"},{name:"患者信息拉取",status:"success",message:"数据同步正常"},{name:"医嘱信息同步",status:"success",message:"实时同步中"}]}]},{id:"2",startTime:"2024-01-19 15:30:00",endTime:"2024-01-19 15:36:45",duration:"6分45秒",status:"异常",operator:"运维人员",results:[{category:"心电图系统检查",items:[{name:"心电图服务状态",status:"error",message:"服务无响应，需要重启服务"},{name:"FTP服务连通性",status:"warning",message:"响应迟超过200ms"},{name:"数据上传测试",status:"error",message:"上传失败，请检查网络配置"},{name:"心电图解析服务",status:"success",message:"解析服务运行正常"}]}]},{id:"3",startTime:"2024-01-18 09:15:00",endTime:"2024-01-18 09:22:33",duration:"7分33秒",status:"警告",operator:"系统管理员",results:[{category:"系统状态",items:[{name:"CPU使用率",status:"warning",message:"76%, 负载较高"},{name:"内存使用率",status:"warning",message:"82%, 接近警戒值"},{name:"系统负载",status:"warning",message:"1.85, 建议优化"}]}]},{id:"4",startTime:"2024-01-17 14:00:00",endTime:"2024-01-17 14:08:12",duration:"8分12秒",status:"正常",operator:"运维人员",results:[{category:"医共体系统检查",items:[{name:"远程服务器连通性",status:"warning",message:"部分节点响应缓慢"},{name:"数据同步服务",status:"warning",message:"同步延迟超过10分钟"},{name:"远程会诊服务",status:"success",message:"服务正常"}]}]},{id:"5",startTime:"2024-01-16 11:30:00",endTime:"2024-01-16 11:38:44",duration:"8分44秒",status:"异常",operator:"运维人员1",results:[{category:"数据安全检查",items:[{name:"数据库备份",status:"error",message:"备份失败，磁盘空间不足"},{name:"数据一致性",status:"error",message:"发现数据不一致，需要修复"},{name:"安全日志",status:"warning",message:"发现异常登录尝试"}]}]}]),ve=ye(()=>pe.value.length),Me=a=>(a==null?void 0:a.results.reduce((e,n)=>e+n.items.length,0))||0,Ne=a=>(a==null?void 0:a.results.reduce((e,n)=>e+n.items.filter(i=>i.status==="success").length,0))||0,F=a=>(a==null?void 0:a.results.reduce((e,n)=>e+n.items.filter(i=>i.status==="warning").length,0))||0,L=a=>(a==null?void 0:a.results.reduce((e,n)=>e+n.items.filter(i=>i.status==="error").length,0))||0,Ke=a=>{const e=[];return a.results.forEach(n=>{n.items.forEach(i=>{i.status==="error"&&e.push(`${n.category} - ${i.name}：${i.message}`)})}),e},Oe=a=>{const e=[];return a.results.forEach(n=>{n.items.forEach(i=>{i.status==="warning"&&e.push(`${n.category} - ${i.name}：${i.message}`)})}),e},qe=a=>{const e=[];return a.results.forEach(n=>{n.items.forEach(i=>{(i.status==="warning"||i.status==="error")&&e.push(Ge(i,n.category))})}),e},Ge=(a,e)=>{switch(a.status){case"error":return`建议立即处理${e}中的${a.name}问题，${a.message}`;case"warning":return`建议关注${e}中的${a.name}，${a.message}`;default:return""}};return(a,e)=>{const n=c("el-icon"),i=c("el-button"),_=c("el-tooltip"),te=c("el-input"),y=c("el-option"),B=c("el-select"),k=c("el-tag"),G=c("el-progress"),Ye=c("el-collapse-item"),je=c("el-collapse"),Je=c("el-scrollbar"),Qe=c("el-date-picker"),x=c("el-form-item"),_e=c("el-form"),E=c("el-table-column"),Xe=c("el-table"),Ze=c("el-pagination"),h=c("el-descriptions-item"),Y=c("el-descriptions"),ge=c("el-dialog"),le=c("el-time-picker"),es=c("el-input-number"),ae=c("el-checkbox"),ss=c("el-checkbox-group"),ts=as("loading");return d(),f("div",bs,[t("div",ys,[t("div",ks,[t("div",ws,[s(n,null,{default:l(()=>[s(p(ns))]),_:1}),e[19]||(e[19]=t("h3",null,"巡检项目",-1))]),t("div",hs,[s(_,{content:"定时巡检",placement:"top"},{default:l(()=>[s(i,{link:"",onClick:Re},{default:l(()=>[s(n,null,{default:l(()=>[s(p(os))]),_:1})]),_:1})]),_:1}),s(_,{content:"开始系统巡检",placement:"top"},{default:l(()=>[s(i,{type:"primary",onClick:xe,loading:T.value,disabled:T.value},{default:l(()=>[s(n,null,{default:l(()=>[s(p(is))]),_:1}),u(" "+r(T.value?"巡检中":"开始巡检"),1)]),_:1},8,["loading","disabled"])]),_:1})])]),s(Je,null,{default:l(()=>{var o;return[t("div",Vs,[t("div",Cs,[t("div",xs,[s(te,{modelValue:K.value,"onUpdate:modelValue":e[0]||(e[0]=g=>K.value=g),placeholder:"搜索巡检项",clearable:"","prefix-icon":p(ke),class:"search-input"},null,8,["modelValue","prefix-icon"]),s(i,{type:"primary",class:"search-button"},{default:l(()=>[s(n,null,{default:l(()=>[s(p(ke))]),_:1}),e[20]||(e[20]=u(" 搜索 "))]),_:1})]),t("div",Is,[s(B,{modelValue:O.value,"onUpdate:modelValue":e[1]||(e[1]=g=>O.value=g),placeholder:"选择状态",class:"status-select"},{default:l(()=>[s(y,{label:"全部状态",value:""},{default:l(()=>e[21]||(e[21]=[t("span",{class:"select-label"},"全部状态",-1)])),_:1}),s(y,{label:"正常",value:"success"},{default:l(()=>[t("div",Us,[s(n,{class:"status-icon success"},{default:l(()=>[s(p(J))]),_:1}),e[22]||(e[22]=t("span",{class:"select-label"},"正常",-1))])]),_:1}),s(y,{label:"警告",value:"warning"},{default:l(()=>[t("div",zs,[s(n,{class:"status-icon warning"},{default:l(()=>[s(p(R))]),_:1}),e[23]||(e[23]=t("span",{class:"select-label"},"警告",-1))])]),_:1}),s(y,{label:"异常",value:"error"},{default:l(()=>[t("div",Ts,[s(n,{class:"status-icon error"},{default:l(()=>[s(p(W))]),_:1}),e[24]||(e[24]=t("span",{class:"select-label"},"异常",-1))])]),_:1})]),_:1},8,["modelValue"])])])]),s(je,{modelValue:N.value,"onUpdate:modelValue":e[2]||(e[2]=g=>N.value=g)},{default:l(()=>[(d(!0),f(I,null,z(Ce.value,g=>(d(),V(Ye,{key:g.id,title:g.name,name:g.id},{title:l(()=>[t("div",Ss,[s(n,null,{default:l(()=>[s(p(ds))]),_:1}),t("span",null,r(g.name),1),s(k,{size:"small",type:re(g),class:"category-status"},{default:l(()=>[u(r(He(g)),1)]),_:2},1032,["type"])])]),default:l(()=>[t("div",Es,[(d(!0),f(I,null,z(g.items,m=>(d(),f("div",{key:m.id,class:A(["inspection-item",{"is-checking":m.checking,"is-done":m.done}])},[t("div",Ps,[s(n,{class:"item-icon"},{default:l(()=>[(d(),V(ne(We(m))))]),_:2},1024),t("span",$s,r(m.name),1)]),t("span",Hs,[m.done?(d(),f(I,{key:0},[t("span",{class:A(["status-value",m.status])},r(Ae(m)),3),m.checking?(d(),V(n,{key:0,class:"is-loading"},{default:l(()=>[s(p(we))]),_:1})):m.done?(d(),V(n,{key:1,class:A(m.status)},{default:l(()=>[(d(),V(ne($e(m.status))))]),_:2},1032,["class"])):C("",!0)],64)):(d(),f("span",Fs,"未检查"))])],2))),128)),g.id==="1"?(d(),f("div",Ls,[t("div",Bs,[s(G,{type:"dashboard",width:80,percentage:ce.value,color:se(ce.value)},{default:l(({percentage:m})=>[e[25]||(e[25]=t("span",{class:"progress-label"},"CPU",-1)),t("span",Ds,r(m)+"%",1)]),_:1},8,["percentage","color"])]),t("div",Rs,[s(G,{type:"dashboard",width:80,percentage:me.value,color:se(me.value)},{default:l(({percentage:m})=>[e[26]||(e[26]=t("span",{class:"progress-label"},"内存",-1)),t("span",Ws,r(m)+"%",1)]),_:1},8,["percentage","color"])]),t("div",As,[s(G,{type:"dashboard",width:80,percentage:fe.value,color:se(fe.value)},{default:l(({percentage:m})=>[e[27]||(e[27]=t("span",{class:"progress-label"},"磁盘",-1)),t("span",Ms,r(m)+"%",1)]),_:1},8,["percentage","color"])])])):C("",!0)])]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"]),T.value?(d(),f("div",Ns,[t("div",Ks,[s(G,{percentage:P.value,status:P.value===100?"success":"","stroke-width":8},null,8,["percentage","status"]),t("div",Os,[t("p",qs,[P.value<100?(d(),V(n,{key:0,class:"is-loading"},{default:l(()=>[s(p(we))]),_:1})):C("",!0),t("span",null,"正在检查: "+r(((o=ie.value)==null?void 0:o.name)||"准备开始"),1),t("span",Gs,r(P.value)+"%",1)])])])])):C("",!0)]}),_:1})]),t("div",Ys,[t("div",js,[t("div",Js,[s(n,null,{default:l(()=>[s(p(oe))]),_:1}),e[28]||(e[28]=t("h3",null,"巡检记录",-1)),s(k,{size:"small",type:"info"},{default:l(()=>[u(" 共 "+r(ve.value)+" 条记录 ",1)]),_:1})]),t("div",Qs,[s(_,{content:"导出Excel",placement:"top"},{default:l(()=>[s(i,{link:"",onClick:Ee},{default:l(()=>[s(n,null,{default:l(()=>[s(p(oe))]),_:1})]),_:1})]),_:1}),s(_,{content:"导出PDF",placement:"top"},{default:l(()=>[s(i,{link:"",onClick:Pe},{default:l(()=>[s(n,null,{default:l(()=>[s(p(us))]),_:1})]),_:1})]),_:1}),s(_,{content:"导出Word",placement:"top"},{default:l(()=>[s(i,{onClick:Se},{default:l(()=>[s(n,null,{default:l(()=>[s(p(rs))]),_:1}),e[29]||(e[29]=u("导出报表 "))]),_:1})]),_:1})])]),cs((d(),f("div",Xs,[t("div",Zs,[s(_e,{inline:!0,model:S},{default:l(()=>[s(x,{label:"时间范围"},{default:l(()=>[s(Qe,{modelValue:S.dateRange,"onUpdate:modelValue":e[3]||(e[3]=o=>S.dateRange=o),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{width:"360px"}},null,8,["modelValue"])]),_:1}),s(x,{label:"状态"},{default:l(()=>[s(B,{modelValue:S.status,"onUpdate:modelValue":e[4]||(e[4]=o=>S.status=o),placeholder:"请选择状态",style:{width:"120px"}},{default:l(()=>[s(y,{label:"全部",value:""}),s(y,{label:"正常",value:"normal"}),s(y,{label:"警告",value:"warning"}),s(y,{label:"异常",value:"error"})]),_:1},8,["modelValue"])]),_:1}),s(x,null,{default:l(()=>[t("div",et,[s(i,{type:"primary",onClick:de},{default:l(()=>e[30]||(e[30]=[u("查询")])),_:1}),s(i,{onClick:ze},{default:l(()=>e[31]||(e[31]=[u("重置")])),_:1})])]),_:1})]),_:1},8,["model"])]),t("div",st,[s(Xe,{data:pe.value,border:"",style:{width:"100%"},class:"records-table"},{default:l(()=>[s(E,{type:"expand"},{default:l(({row:o})=>[t("div",tt,[(d(!0),f(I,null,z(o.results,(g,m)=>(d(),f("div",{key:m,class:"detail-item"},[t("span",lt,r(g.category)+"：",1),t("div",at,[(d(!0),f(I,null,z(g.items,($,j)=>(d(),f("p",{key:j,class:A($.status)},r($.name)+": "+r($.message),3))),128))])]))),128))])]),_:1}),s(E,{prop:"startTime",label:"开始时间",width:"180"}),s(E,{prop:"endTime",label:"结束时间",width:"180"}),s(E,{prop:"duration",label:"耗时",width:"120"}),s(E,{prop:"status",label:"状态",width:"100"},{default:l(({row:o})=>[s(k,{type:ue(o.status),effect:o.status==="正常"?"plain":"dark"},{default:l(()=>[u(r(o.status),1)]),_:2},1032,["type","effect"])]),_:1}),s(E,{prop:"operator",label:"操作人",width:"120"}),s(E,{label:"操作",width:"120",align:"center",fixed:"right"},{default:l(({row:o})=>[s(i,{type:"primary",link:"",onClick:g=>Te(o)},{default:l(()=>e[32]||(e[32]=[u(" 查看报表 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),t("div",nt,[s(Ze,{"current-page":Q.value,"onUpdate:currentPage":e[5]||(e[5]=o=>Q.value=o),"page-size":X.value,"onUpdate:pageSize":e[6]||(e[6]=o=>X.value=o),total:ve.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:Ie,onCurrentChange:Ue},null,8,["current-page","page-size","total"])])])),[[ts,Z.value]])]),s(ge,{modelValue:q.value,"onUpdate:modelValue":e[8]||(e[8]=o=>q.value=o),title:"巡检报表",width:"1000px","destroy-on-close":!0,class:"report-dialog"},{footer:l(()=>[s(i,{onClick:e[7]||(e[7]=o=>q.value=!1)},{default:l(()=>e[78]||(e[78]=[u("关闭")])),_:1}),s(i,{type:"primary",onClick:a.handleExportWord},{default:l(()=>e[79]||(e[79]=[u(" 导出Word ")])),_:1},8,["onClick"])]),default:l(()=>{var o,g,m,$,j;return[t("div",ot,[t("div",it,[t("div",dt,[s(n,null,{default:l(()=>[s(p(ms))]),_:1}),e[33]||(e[33]=t("h2",null,"系统巡检报告",-1))]),t("div",ut,[t("div",rt,[e[34]||(e[34]=t("span",{class:"info-label"},"巡检时间：",-1)),t("span",ct,r((o=v.value)==null?void 0:o.startTime),1)]),t("div",mt,[e[35]||(e[35]=t("span",{class:"info-label"},"操作人员：",-1)),t("span",ft,r((g=v.value)==null?void 0:g.operator),1)]),t("div",pt,[e[36]||(e[36]=t("span",{class:"info-label"},"耗时：",-1)),t("span",vt,r((m=v.value)==null?void 0:m.duration),1)]),t("div",_t,[e[37]||(e[37]=t("span",{class:"info-label"},"状态：",-1)),s(k,{type:ue(($=v.value)==null?void 0:$.status),effect:((j=v.value)==null?void 0:j.status)==="正常"?"plain":"dark"},{default:l(()=>{var U;return[u(r((U=v.value)==null?void 0:U.status),1)]}),_:1},8,["type","effect"])])]),v.value?(d(),f("div",gt,[t("div",bt,[t("div",{class:A(["overview-item",Fe(v.value)])},[t("div",yt,[s(n,null,{default:l(()=>[(d(),V(ne(Le(v.value))))]),_:1})]),t("div",kt,[e[38]||(e[38]=t("div",{class:"overview-title"},"检查项总数",-1)),t("div",wt,r(Me(v.value)),1)])],2),t("div",ht,[t("div",Vt,[s(n,null,{default:l(()=>[s(p(J))]),_:1})]),t("div",Ct,[e[39]||(e[39]=t("div",{class:"overview-title"},"正常项",-1)),t("div",xt,r(Ne(v.value)),1)])]),t("div",It,[t("div",Ut,[s(n,null,{default:l(()=>[s(p(R))]),_:1})]),t("div",zt,[e[40]||(e[40]=t("div",{class:"overview-title"},"警告项",-1)),t("div",Tt,r(F(v.value)),1)])]),t("div",St,[t("div",Et,[s(n,null,{default:l(()=>[s(p(W))]),_:1})]),t("div",Pt,[e[41]||(e[41]=t("div",{class:"overview-title"},"异常项",-1)),t("div",$t,r(L(v.value)),1)])])]),t("div",Ht,[e[52]||(e[52]=t("h4",null,"系统状态",-1)),s(Y,{column:3,border:""},{default:l(()=>[s(h,{label:"CPU使用率"},{default:l(()=>[t("div",Ft,[e[43]||(e[43]=t("span",null,"32%",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[42]||(e[42]=[u("正常")])),_:1})])]),_:1}),s(h,{label:"内存使用率"},{default:l(()=>[t("div",Lt,[e[45]||(e[45]=t("span",null,"45%",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[44]||(e[44]=[u("正常")])),_:1})])]),_:1}),s(h,{label:"磁盘空间"},{default:l(()=>[t("div",Bt,[e[47]||(e[47]=t("span",null,"85%",-1)),s(k,{size:"small",type:"warning"},{default:l(()=>e[46]||(e[46]=[u("警告")])),_:1})])]),_:1}),s(h,{label:"系统负载"},{default:l(()=>[t("div",Dt,[e[49]||(e[49]=t("span",null,"0.75",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[48]||(e[48]=[u("正常")])),_:1})])]),_:1}),s(h,{label:"网络状态"},{default:l(()=>[t("div",Rt,[e[51]||(e[51]=t("span",null,"正常",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[50]||(e[50]=[u("正常")])),_:1})])]),_:1})]),_:1})]),t("div",Wt,[e[61]||(e[61]=t("h4",null,"HIS集成状态",-1)),s(Y,{column:2,border:""},{default:l(()=>[s(h,{label:"服务器连通性"},{default:l(()=>[t("div",At,[e[54]||(e[54]=t("span",null,"延迟: 20ms",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[53]||(e[53]=[u("正常")])),_:1})])]),_:1}),s(h,{label:"API接口"},{default:l(()=>[t("div",Mt,[e[56]||(e[56]=t("span",null,"全部可用",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[55]||(e[55]=[u("正常")])),_:1})])]),_:1}),s(h,{label:"患者信息同步"},{default:l(()=>[t("div",Nt,[e[58]||(e[58]=t("span",null,"实时同步正常",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[57]||(e[57]=[u("正常")])),_:1})])]),_:1}),s(h,{label:"报告推送"},{default:l(()=>[t("div",Kt,[e[60]||(e[60]=t("span",null,"正常",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[59]||(e[59]=[u("正常")])),_:1})])]),_:1})]),_:1})]),t("div",Ot,[e[70]||(e[70]=t("h4",null,"心电图系统状态",-1)),s(Y,{column:2,border:""},{default:l(()=>[s(h,{label:"心电图服务"},{default:l(()=>[t("div",qt,[e[63]||(e[63]=t("span",null,"运行正常",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[62]||(e[62]=[u("正常")])),_:1})])]),_:1}),s(h,{label:"数据上传"},{default:l(()=>[t("div",Gt,[e[65]||(e[65]=t("span",null,"连接超时",-1)),s(k,{size:"small",type:"error"},{default:l(()=>e[64]||(e[64]=[u("异常")])),_:1})])]),_:1}),s(h,{label:"FTP服务"},{default:l(()=>[t("div",Yt,[e[67]||(e[67]=t("span",null,"响应缓",-1)),s(k,{size:"small",type:"warning"},{default:l(()=>e[66]||(e[66]=[u("警告")])),_:1})])]),_:1}),s(h,{label:"判读引擎"},{default:l(()=>[t("div",jt,[e[69]||(e[69]=t("span",null,"运行正常",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[68]||(e[68]=[u("正常")])),_:1})])]),_:1})]),_:1})]),t("div",Jt,[e[75]||(e[75]=t("h4",null,"医共体系统状态",-1)),s(Y,{column:2,border:""},{default:l(()=>[s(h,{label:"远程服务器"},{default:l(()=>[t("div",Qt,[e[72]||(e[72]=t("span",null,"连接正常",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[71]||(e[71]=[u("正常")])),_:1})])]),_:1}),s(h,{label:"数据同步"},{default:l(()=>[t("div",Xt,[e[74]||(e[74]=t("span",null,"同步正常",-1)),s(k,{size:"small",type:"success"},{default:l(()=>e[73]||(e[73]=[u("正常")])),_:1})])]),_:1})]),_:1})]),t("div",Zt,[t("h4",null,[s(n,null,{default:l(()=>[s(p(oe))]),_:1}),e[76]||(e[76]=u(" 巡检结论与建议 "))]),t("div",el,[L(v.value)>0?(d(),f("div",sl,[t("div",tl,[s(n,null,{default:l(()=>[s(p(W))]),_:1}),t("span",null,"发现 "+r(L(v.value))+" 项异常",1)]),t("ul",ll,[(d(!0),f(I,null,z(Ke(v.value),(U,D)=>(d(),f("li",{key:D},r(U),1))),128))])])):C("",!0),F(v.value)>0?(d(),f("div",al,[t("div",nl,[s(n,null,{default:l(()=>[s(p(R))]),_:1}),t("span",null,"发现 "+r(F(v.value))+" 项警告",1)]),t("ul",ol,[(d(!0),f(I,null,z(Oe(v.value),(U,D)=>(d(),f("li",{key:D},r(U),1))),128))])])):C("",!0),t("div",il,[t("div",dl,[s(n,null,{default:l(()=>[s(p(he))]),_:1}),e[77]||(e[77]=t("span",null,"优化建议",-1))]),t("ul",ul,[(d(!0),f(I,null,z(qe(v.value),(U,D)=>(d(),f("li",{key:D},r(U),1))),128))])])])])])):C("",!0)])])]}),_:1},8,["modelValue"]),s(ge,{modelValue:H.value,"onUpdate:modelValue":e[18]||(e[18]=o=>H.value=o),title:"定时巡检设置",width:"500px"},{footer:l(()=>[s(i,{onClick:e[17]||(e[17]=o=>H.value=!1)},{default:l(()=>e[84]||(e[84]=[u("取消")])),_:1}),s(i,{type:"primary",onClick:De},{default:l(()=>e[85]||(e[85]=[u("确定")])),_:1})]),default:l(()=>[s(_e,{model:b,"label-width":"100px"},{default:l(()=>[s(x,{label:"巡检周期"},{default:l(()=>[s(B,{modelValue:b.type,"onUpdate:modelValue":e[9]||(e[9]=o=>b.type=o)},{default:l(()=>[s(y,{label:"每天",value:"daily"}),s(y,{label:"每周",value:"weekly"}),s(y,{label:"每月",value:"monthly"})]),_:1},8,["modelValue"])]),_:1}),b.type==="daily"?(d(),V(x,{key:0,label:"执行时间"},{default:l(()=>[s(le,{modelValue:b.time,"onUpdate:modelValue":e[10]||(e[10]=o=>b.time=o),format:"HH:mm"},null,8,["modelValue"])]),_:1})):C("",!0),b.type==="weekly"?(d(),V(x,{key:1,label:"执行时间"},{default:l(()=>[s(B,{modelValue:b.weekday,"onUpdate:modelValue":e[11]||(e[11]=o=>b.weekday=o),style:{width:"100px"}},{default:l(()=>[s(y,{label:"周一",value:"1"}),s(y,{label:"周二",value:"2"}),s(y,{label:"周三",value:"3"}),s(y,{label:"周四",value:"4"}),s(y,{label:"周五",value:"5"}),s(y,{label:"周六",value:"6"}),s(y,{label:"周日",value:"7"})]),_:1},8,["modelValue"]),s(le,{modelValue:b.time,"onUpdate:modelValue":e[12]||(e[12]=o=>b.time=o),format:"HH:mm"},null,8,["modelValue"])]),_:1})):C("",!0),b.type==="monthly"?(d(),V(x,{key:2,label:"执行时间"},{default:l(()=>[s(es,{modelValue:b.day,"onUpdate:modelValue":e[13]||(e[13]=o=>b.day=o),min:1,max:31},null,8,["modelValue"]),e[80]||(e[80]=t("span",{class:"ml-2"},"日",-1)),s(le,{modelValue:b.time,"onUpdate:modelValue":e[14]||(e[14]=o=>b.time=o),format:"HH:mm"},null,8,["modelValue"])]),_:1})):C("",!0),s(x,{label:"通知方式"},{default:l(()=>[s(ss,{modelValue:b.notifications,"onUpdate:modelValue":e[15]||(e[15]=o=>b.notifications=o)},{default:l(()=>[s(ae,{label:"email"},{default:l(()=>e[81]||(e[81]=[u("邮件通知")])),_:1}),s(ae,{label:"sms"},{default:l(()=>e[82]||(e[82]=[u("短信通知")])),_:1}),s(ae,{label:"weixin"},{default:l(()=>e[83]||(e[83]=[u("微信通知")])),_:1})]),_:1},8,["modelValue"])]),_:1}),s(x,{label:"通知人员"},{default:l(()=>[s(B,{modelValue:b.notifyUsers,"onUpdate:modelValue":e[16]||(e[16]=o=>b.notifyUsers=o),multiple:"",filterable:"",placeholder:"请选择通知人员"},{default:l(()=>[(d(!0),f(I,null,z(Be.value,o=>(d(),V(y,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},fl=ls(rl,[["__scopeId","data-v-0d6b1343"]]);export{fl as default};
