import{_ as T,f as q,e as S,r as _,m as P,g as m,o as I,c as B,b as r,d as l,w as a,h,J as R,k as s,K as G,x as L,L as F,t as n,q as V,E as C}from"./index-CYhqdMvL.js";import{E as H}from"./EcgViewer-Cn8h08P0.js";const J={class:"ecg-detail"},K={class:"action-bar"},Q={class:"action-buttons"},U={class:"detail-content"},$={class:"card-header"},j={class:"viewer-container"},z={__name:"EcgDetail",setup(A){const k=q(),y=S();_(null);const c=_({name:"张三",gender:"男",age:45,patientNo:"P202401001",idCard:"310101197901011234",phone:"13800138000"}),i=_({deviceNo:"ECG001",deviceName:"心电图机1号",model:"ECG-1200G",checkTime:"2024-03-14 10:30:00",doctor:"李医生",department:"心内科"}),v=_({uploaded:!0,uploadTime:"2024-03-14 11:00:00",uploader:"张医生",reportId:"R202403140001"}),p=_({examNo:"E202403140001",requestDept:"心内科",requestDoctor:"王医生",requestTime:"2024-03-14 09:00:00",diagnosis:"疑似心肌缺血",purpose:"常规检查"}),E=_((()=>{const D=()=>{const e=[];for(let o=0;o<25;o++)e.push(.15*Math.sin(o/24*Math.PI));for(let o=0;o<10;o++)e.push(0);e.push(-.2);for(let o=0;o<5;o++)e.push(1.8*Math.pow(o/4,2));e.push(1.8);for(let o=4;o>=0;o--)e.push(1.8*Math.pow(o/4,2));e.push(-.5);for(let o=4;o>=0;o--)e.push(-.5*Math.pow(o/4,2));for(let o=0;o<15;o++)e.push(.05);for(let o=0;o<30;o++){const g=o/29;e.push(.3*Math.exp(-Math.pow((g-.6)/.3,2)))}for(let o=0;o<15;o++)e.push(0);return e},f=Math.ceil(15),t=[];for(let e=0;e<f;e++)t.push(...D());const u=(e,o=.02)=>e.map(g=>g+(Math.random()-.5)*o);return{I:u(t.map(e=>e*1)),II:u(t.map(e=>e*1.2)),III:u(t.map(e=>e*.8)),aVR:u(t.map(e=>e*-.5)),aVL:u(t.map(e=>e*.7)),aVF:u(t.map(e=>e*.9)),V1:u(t.map(e=>e*-1.2)),V2:u(t.map(e=>e*1.8)),V3:u(t.map(e=>e*1.5)),V4:u(t.map(e=>e*1.2)),V5:u(t.map(e=>e*.9)),V6:u(t.map(e=>e*.7))}})()),N=()=>{y.back()},M=()=>{y.push(`/ecg/${k.params.id}/diagnosis`)},w=()=>{C.success("开始上传到医共体")},x=()=>{C.success("开始打印")};return P(()=>{k.params.id}),(D,d)=>{const b=m("el-icon"),f=m("el-button"),t=m("el-descriptions-item"),u=m("el-descriptions"),e=m("el-card"),o=m("el-tag");return I(),B("div",J,[r("div",K,[l(f,{onClick:N},{default:a(()=>[l(b,null,{default:a(()=>[l(h(R))]),_:1}),d[0]||(d[0]=s("返回 "))]),_:1}),r("div",Q,[l(f,{type:"primary",onClick:M},{default:a(()=>[l(b,null,{default:a(()=>[l(h(G))]),_:1}),d[1]||(d[1]=s("判读 "))]),_:1}),l(f,{type:"success",onClick:w},{default:a(()=>[l(b,null,{default:a(()=>[l(h(L))]),_:1}),d[2]||(d[2]=s("上传医共体 "))]),_:1}),l(f,{type:"info",onClick:x},{default:a(()=>[l(b,null,{default:a(()=>[l(h(F))]),_:1}),d[3]||(d[3]=s("打印 "))]),_:1})])]),r("div",U,[l(e,{class:"info-card"},{header:a(()=>d[4]||(d[4]=[r("div",{class:"card-header"},[r("span",null,"患者信息")],-1)])),default:a(()=>[l(u,{column:3,border:""},{default:a(()=>[l(t,{label:"患者姓名"},{default:a(()=>[s(n(c.value.name),1)]),_:1}),l(t,{label:"性别"},{default:a(()=>[s(n(c.value.gender),1)]),_:1}),l(t,{label:"年龄"},{default:a(()=>[s(n(c.value.age)+"岁",1)]),_:1}),l(t,{label:"病历号"},{default:a(()=>[s(n(c.value.patientNo),1)]),_:1}),l(t,{label:"身份证号"},{default:a(()=>[s(n(c.value.idCard),1)]),_:1}),l(t,{label:"联系电话"},{default:a(()=>[s(n(c.value.phone),1)]),_:1})]),_:1})]),_:1}),l(e,{class:"info-card"},{header:a(()=>d[5]||(d[5]=[r("div",{class:"card-header"},[r("span",null,"设备信息")],-1)])),default:a(()=>[l(u,{column:3,border:""},{default:a(()=>[l(t,{label:"设备编号"},{default:a(()=>[s(n(i.value.deviceNo),1)]),_:1}),l(t,{label:"设备名称"},{default:a(()=>[s(n(i.value.deviceName),1)]),_:1}),l(t,{label:"设备型号"},{default:a(()=>[s(n(i.value.model),1)]),_:1}),l(t,{label:"检查时间"},{default:a(()=>[s(n(i.value.checkTime),1)]),_:1}),l(t,{label:"检查医生"},{default:a(()=>[s(n(i.value.doctor),1)]),_:1}),l(t,{label:"科室"},{default:a(()=>[s(n(i.value.department),1)]),_:1})]),_:1})]),_:1}),l(e,{class:"info-card"},{header:a(()=>[r("div",$,[d[8]||(d[8]=r("span",null,"医共体信息",-1)),v.value.uploaded?(I(),V(o,{key:0,type:"success"},{default:a(()=>d[6]||(d[6]=[s("已上传")])),_:1})):(I(),V(o,{key:1,type:"info"},{default:a(()=>d[7]||(d[7]=[s("未上传")])),_:1}))])]),default:a(()=>[l(u,{column:2,border:""},{default:a(()=>[l(t,{label:"上传状态"},{default:a(()=>[s(n(v.value.uploaded?"已上传":"未上传"),1)]),_:1}),l(t,{label:"上传时间"},{default:a(()=>[s(n(v.value.uploadTime||"-"),1)]),_:1}),l(t,{label:"上传人"},{default:a(()=>[s(n(v.value.uploader||"-"),1)]),_:1}),l(t,{label:"报告ID"},{default:a(()=>[s(n(v.value.reportId||"-"),1)]),_:1})]),_:1})]),_:1}),l(e,{class:"info-card"},{header:a(()=>d[9]||(d[9]=[r("div",{class:"card-header"},[r("span",null,"HIS检查信息")],-1)])),default:a(()=>[l(u,{column:2,border:""},{default:a(()=>[l(t,{label:"检查号"},{default:a(()=>[s(n(p.value.examNo),1)]),_:1}),l(t,{label:"申请科室"},{default:a(()=>[s(n(p.value.requestDept),1)]),_:1}),l(t,{label:"申请医生"},{default:a(()=>[s(n(p.value.requestDoctor),1)]),_:1}),l(t,{label:"申请时间"},{default:a(()=>[s(n(p.value.requestTime),1)]),_:1}),l(t,{label:"临床诊断",span:2},{default:a(()=>[s(n(p.value.diagnosis),1)]),_:1}),l(t,{label:"检查目的",span:2},{default:a(()=>[s(n(p.value.purpose),1)]),_:1})]),_:1})]),_:1}),l(e,{class:"info-card ecg-viewer"},{header:a(()=>d[10]||(d[10]=[r("div",{class:"card-header"},[r("span",null,"心电图")],-1)])),default:a(()=>[r("div",j,[l(H,{data:E.value},null,8,["data"])])]),_:1})])])}}},Y=T(z,[["__scopeId","data-v-945c3095"]]);export{Y as default};
