import{_ as K,r as V,a as Q,g as o,o as m,c as y,b as s,d as e,w as t,h as k,ah as C,k as i,F as W,n as X,q as S,t as x,N as Y,C as h,E as Z}from"./index-BoCTFli4.js";const ee={class:"his-interfaces-page"},le={class:"interface-list card-container"},te={class:"list-header"},ae={class:"interface-item"},ne={class:"interface-name"},se={key:0,class:"interface-detail card-container"},oe={class:"detail-header"},de={class:"header-content"},re={class:"interface-title"},ie={class:"header-actions"},ue={class:"detail-content"},pe={key:1},me={class:"param-header"},ce={class:"param-header"},_e={key:2},fe={class:"param-header"},ve={__name:"Interfaces",setup(be){const _=V([{id:"1",name:"获取患者信息",method:"GET",url:"/api/his/patient",description:"获取HIS系统中的患者基本信息",headers:[{name:"Authorization",value:"Bearer token",description:"认证token"}],params:[{name:"patientId",type:"string",required:!0,description:"患者ID"}],responses:[{name:"code",type:"number",description:"返回码"},{name:"data",type:"object",description:"患者信息"}]},{id:"2",name:"上传检查结果",method:"POST",url:"/api/his/report",description:"向HIS系统上传心电图检查结果",headers:[{name:"Authorization",value:"Bearer token",description:"认证token"}],params:[{name:"patientId",type:"string",required:!0,description:"患者ID"},{name:"reportData",type:"object",required:!0,description:"报告数据"}],responses:[{name:"code",type:"number",description:"返回码"},{name:"message",type:"string",description:"返回信息"}]}]),T=V("1"),n=V(null),f=V("basic"),p=Q({params:"",response:""}),I=d=>{T.value=d,n.value=_.value.find(l=>l.id===d)},U=()=>{const d=String(_.value.length+1);_.value.push({id:d,name:"新接口",method:"GET",url:"",description:"",headers:[],params:[],responses:[]}),I(d)},A=()=>{n.value.headers.push({name:"",value:"",description:""})},B=d=>{n.value.headers.splice(d,1)},z=()=>{n.value.params.push({name:"",type:"string",required:!1,description:""})},G=d=>{n.value.params.splice(d,1)},O=()=>{n.value.responses.push({name:"",type:"string",description:""})},P=d=>{n.value.responses.splice(d,1)},H=()=>{const d=_.value.findIndex(l=>l.id===n.value.id);_.value[d]={...n.value},Z.success("保存成功")},F=()=>{p.response="请求发送中...",setTimeout(()=>{p.response=JSON.stringify({code:0,message:"success",data:{id:"123",name:"测试患者"}},null,2)},1e3)},$=()=>{p.params="",p.response=""};return I("1"),(d,l)=>{const v=o("el-icon"),u=o("el-button"),q=o("el-tag"),j=o("el-menu-item"),J=o("el-menu"),R=o("el-scrollbar"),g=o("el-tab-pane"),L=o("el-tabs"),b=o("el-input"),c=o("el-form-item"),D=o("el-option"),M=o("el-select"),E=o("el-form"),r=o("el-table-column"),w=o("el-table");return m(),y("div",ee,[s("div",le,[s("div",te,[l[8]||(l[8]=s("h3",null,"接口列表",-1)),e(u,{type:"primary",size:"small",onClick:U},{default:t(()=>[e(v,null,{default:t(()=>[e(k(C))]),_:1}),l[7]||(l[7]=i("新增接口 "))]),_:1})]),e(R,null,{default:t(()=>[e(J,{"default-active":T.value,class:"interface-menu",onSelect:I},{default:t(()=>[(m(!0),y(W,null,X(_.value,a=>(m(),S(j,{key:a.id,index:a.id},{title:t(()=>[s("span",ae,[e(q,{size:"small",type:a.method==="GET"?"success":"warning"},{default:t(()=>[i(x(a.method),1)]),_:2},1032,["type"]),s("span",ne,x(a.name),1)])]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),_:1})]),n.value?(m(),y("div",se,[s("div",oe,[s("div",de,[s("span",re,x(n.value.name),1),e(L,{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=a=>f.value=a)},{default:t(()=>[e(g,{label:"基本信息",name:"basic"}),e(g,{label:"请求参数",name:"request"}),e(g,{label:"返回参数",name:"response"}),e(g,{label:"调试",name:"debug"})]),_:1},8,["modelValue"])]),s("div",ie,[e(u,{type:"primary",onClick:H},{default:t(()=>[e(v,null,{default:t(()=>[e(k(Y))]),_:1}),l[9]||(l[9]=i("保存 "))]),_:1})])]),s("div",ue,[f.value==="basic"?(m(),S(E,{key:0,model:n.value,"label-width":"100px"},{default:t(()=>[e(c,{label:"接口名称"},{default:t(()=>[e(b,{modelValue:n.value.name,"onUpdate:modelValue":l[1]||(l[1]=a=>n.value.name=a)},null,8,["modelValue"])]),_:1}),e(c,{label:"请求方法"},{default:t(()=>[e(M,{modelValue:n.value.method,"onUpdate:modelValue":l[2]||(l[2]=a=>n.value.method=a)},{default:t(()=>[e(D,{label:"GET",value:"GET"}),e(D,{label:"POST",value:"POST"})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"接口地址"},{default:t(()=>[e(b,{modelValue:n.value.url,"onUpdate:modelValue":l[3]||(l[3]=a=>n.value.url=a)},null,8,["modelValue"])]),_:1}),e(c,{label:"接口描述"},{default:t(()=>[e(b,{modelValue:n.value.description,"onUpdate:modelValue":l[4]||(l[4]=a=>n.value.description=a),type:"textarea",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):h("",!0),f.value==="request"?(m(),y("div",pe,[s("div",me,[l[11]||(l[11]=s("h4",null,"请求头",-1)),e(u,{type:"primary",link:"",onClick:A},{default:t(()=>[e(v,null,{default:t(()=>[e(k(C))]),_:1}),l[10]||(l[10]=i("添加 "))]),_:1})]),e(w,{data:n.value.headers,border:""},{default:t(()=>[e(r,{label:"参数名",prop:"name"}),e(r,{label:"参数值",prop:"value"}),e(r,{label:"描述",prop:"description"}),e(r,{label:"操作",width:"100",align:"center"},{default:t(({$index:a})=>[e(u,{type:"danger",link:"",onClick:N=>B(a)},{default:t(()=>l[12]||(l[12]=[i(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),s("div",ce,[l[14]||(l[14]=s("h4",null,"请求参数",-1)),e(u,{type:"primary",link:"",onClick:z},{default:t(()=>[e(v,null,{default:t(()=>[e(k(C))]),_:1}),l[13]||(l[13]=i("添加 "))]),_:1})]),e(w,{data:n.value.params,border:""},{default:t(()=>[e(r,{label:"参数名",prop:"name"}),e(r,{label:"类型",prop:"type"}),e(r,{label:"是否必填",prop:"required",width:"100"},{default:t(({row:a})=>[e(q,{type:a.required?"danger":"info",size:"small"},{default:t(()=>[i(x(a.required?"是":"否"),1)]),_:2},1032,["type"])]),_:1}),e(r,{label:"描述",prop:"description"}),e(r,{label:"操作",width:"100",align:"center"},{default:t(({$index:a})=>[e(u,{type:"danger",link:"",onClick:N=>G(a)},{default:t(()=>l[15]||(l[15]=[i(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])):h("",!0),f.value==="response"?(m(),y("div",_e,[s("div",fe,[l[17]||(l[17]=s("h4",null,"返回参数",-1)),e(u,{type:"primary",link:"",onClick:O},{default:t(()=>[e(v,null,{default:t(()=>[e(k(C))]),_:1}),l[16]||(l[16]=i("添加 "))]),_:1})]),e(w,{data:n.value.responses,border:""},{default:t(()=>[e(r,{label:"参数名",prop:"name"}),e(r,{label:"类型",prop:"type"}),e(r,{label:"描述",prop:"description"}),e(r,{label:"操作",width:"100",align:"center"},{default:t(({$index:a})=>[e(u,{type:"danger",link:"",onClick:N=>P(a)},{default:t(()=>l[18]||(l[18]=[i(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])):h("",!0),f.value==="debug"?(m(),S(E,{key:3,model:p,"label-width":"100px"},{default:t(()=>[e(c,{label:"请求参数"},{default:t(()=>[e(b,{modelValue:p.params,"onUpdate:modelValue":l[5]||(l[5]=a=>p.params=a),type:"textarea",rows:"10",placeholder:"请输入JSON格式的请求参数"},null,8,["modelValue"])]),_:1}),e(c,null,{default:t(()=>[e(u,{type:"primary",onClick:F},{default:t(()=>l[19]||(l[19]=[i("发送请求")])),_:1}),e(u,{onClick:$},{default:t(()=>l[20]||(l[20]=[i("清空")])),_:1})]),_:1}),e(c,{label:"返回结果"},{default:t(()=>[e(b,{modelValue:p.response,"onUpdate:modelValue":l[6]||(l[6]=a=>p.response=a),type:"textarea",rows:"10",readonly:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):h("",!0)])])):h("",!0)])}}},ke=K(ve,[["__scopeId","data-v-2757605f"]]);export{ke as default};
