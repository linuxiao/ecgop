import{B as x}from"./BaseListPage-_ExiKInV.js";import{_ as D,e as y,r as C,a as S,m as P,g as s,o as B,c as H,d as e,w as o,k as m,t as f}from"./index-CYhqdMvL.js";const I={class:"his-cases-page"},Y={__name:"HisCases",setup(M){const b=y(),d=C(null),n=S({patientName:"",orderTime:[],status:""}),h=t=>({pending:"warning",completed:"success",cancelled:"info"})[t]||"info",g=t=>({pending:"待检查",completed:"已检查",cancelled:"已取消"})[t]||t,i=t=>{d.value&&(d.value.loading=!0,setTimeout(()=>{d.value.tableData=[{orderTime:"2024-03-14 15:30:00",patientName:"张三",patientNo:"P001",orderNo:"O001",orderDoctor:"李医生",department:"心内科",examItem:"十二导联心电图",status:"pending",remark:"常规检查"},{orderTime:"2024-03-14 14:20:00",patientName:"李四",patientNo:"P002",orderNo:"O002",orderDoctor:"王医生",department:"急诊科",examItem:"十二导联心电图",status:"completed",remark:"急诊检查"}].filter(a=>{const c=!t.patientName||a.patientName.includes(t.patientName),p=!t.status||a.status===t.status;return c&&p}),d.value.total=d.value.tableData.length,d.value.loading=!1},500))},N=()=>{Object.keys(n).forEach(t=>{n[t]=t==="orderTime"?[]:""}),i(n)};P(()=>{i(n)});const w=t=>{b.push(`/his-cases/${t.orderNo}`)};return(t,a)=>{const c=s("el-input"),p=s("el-form-item"),v=s("el-date-picker"),u=s("el-option"),k=s("el-select"),r=s("el-table-column"),V=s("el-link"),T=s("el-tag"),_=s("el-dropdown-item");return B(),H("div",I,[e(x,{ref_key:"listPage",ref:d,"search-form":n,onSearch:i,onReset:N},{"search-items":o(()=>[e(p,{label:"患者姓名"},{default:o(()=>[e(c,{modelValue:n.patientName,"onUpdate:modelValue":a[0]||(a[0]=l=>n.patientName=l),placeholder:"请输入患者姓名",clearable:""},null,8,["modelValue"])]),_:1}),e(p,{label:"开单时间"},{default:o(()=>[e(v,{modelValue:n.orderTime,"onUpdate:modelValue":a[1]||(a[1]=l=>n.orderTime=l),type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),e(p,{label:"状态"},{default:o(()=>[e(k,{modelValue:n.status,"onUpdate:modelValue":a[2]||(a[2]=l=>n.status=l),placeholder:"请选择状态",clearable:""},{default:o(()=>[e(u,{label:"待检查",value:"pending"}),e(u,{label:"已检查",value:"completed"}),e(u,{label:"已取消",value:"cancelled"})]),_:1},8,["modelValue"])]),_:1})]),"dropdown-items":o(({row:l})=>[e(_,{command:"view"},{default:o(()=>a[3]||(a[3]=[m("查看详情")])),_:1}),e(_,{command:"print"},{default:o(()=>a[4]||(a[4]=[m("打印单据")])),_:1})]),default:o(()=>[e(r,{prop:"orderTime",label:"开单时间",width:"160"}),e(r,{prop:"patientName",label:"患者姓名",width:"120"}),e(r,{prop:"patientNo",label:"患者编号",width:"120"}),e(r,{prop:"orderNo",label:"开单号",width:"120"},{default:o(({row:l})=>[e(V,{type:"primary",onClick:O=>w(l)},{default:o(()=>[m(f(l.orderNo),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{prop:"orderDoctor",label:"开单医生",width:"120"}),e(r,{prop:"department",label:"科室",width:"120"}),e(r,{prop:"examItem",label:"检查项目",width:"120"}),e(r,{prop:"status",label:"状态",width:"100"},{default:o(({row:l})=>[e(T,{type:h(l.status)},{default:o(()=>[m(f(g(l.status)),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"remark",label:"备注","min-width":"200","show-overflow-tooltip":""})]),_:1},8,["search-form"])])}}},E=D(Y,[["__scopeId","data-v-0f50eb6a"]]);export{E as default};
