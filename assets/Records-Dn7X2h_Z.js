import{B}from"./BaseListPage-VFQajrBy.js";import{_ as S,r as f,e as U,a as Y,m as $,g as u,o as E,c as M,d as e,w as t,k as l,t as n}from"./index-Dnu6zoKa.js";const j={class:"records-page"},F={__name:"Records",setup(I){const m=f(null),b=f(!1),s=f({}),N=U(),p=Y({patientNo:"",patientName:"",visitTime:[]}),k=[{id:1,visitNo:"V202401001",patientNo:"P202401001",patientName:"张三",visitTime:"2024-03-10",department:"心内科",doctor:"李医生",diagnosis:"冠心病，需要进一步检查",status:"已完成",fee:50,complaint:"胸闷、气短，持续一周",treatment:"建议进行心电图检查和血常规检查",advice:"注意休息，避免剧烈运动"},{id:2,visitNo:"V202401002",patientNo:"P202401002",patientName:"李四",visitTime:"2024-03-12",department:"心内科",doctor:"王医生",diagnosis:"心律不齐，需要定期监测",status:"随访中",fee:50,complaint:"心慌、心跳不规则",treatment:"进行24小时动态心电图监测",advice:"按时服药，定期复查"}],v=i=>{m.value&&(m.value.loading=!0,setTimeout(()=>{m.value.tableData=k.filter(o=>{const _=!i.patientNo||o.patientNo.includes(i.patientNo),c=!i.patientName||o.patientName.includes(i.patientName);return _&&c}),m.value.total=m.value.tableData.length,m.value.loading=!1},500))},y=()=>{Object.keys(p).forEach(i=>{p[i]=i==="visitTime"?[]:""}),v(p)},g=i=>({已完成:"success",随访中:"warning",待就诊:"info",已取消:"danger"})[i]||"info",T=i=>{N.push(`/visits/${i.visitNo}`)},D=i=>{N.push(`/patients/${i.patientNo}`)};return $(()=>{v(p)}),(i,o)=>{const _=u("el-input"),c=u("el-form-item"),P=u("el-date-picker"),h=u("el-link"),r=u("el-table-column"),V=u("el-tag"),w=u("el-dropdown-item"),d=u("el-descriptions-item"),R=u("el-descriptions"),x=u("el-dialog");return E(),M("div",j,[e(B,{ref_key:"listPage",ref:m,"search-form":p,onSearch:v,onReset:y},{"search-items":t(()=>[e(c,{label:"患者编号"},{default:t(()=>[e(_,{modelValue:p.patientNo,"onUpdate:modelValue":o[0]||(o[0]=a=>p.patientNo=a),placeholder:"请输入患者编号",clearable:""},null,8,["modelValue"])]),_:1}),e(c,{label:"患者姓名"},{default:t(()=>[e(_,{modelValue:p.patientName,"onUpdate:modelValue":o[1]||(o[1]=a=>p.patientName=a),placeholder:"请输入患者姓名",clearable:""},null,8,["modelValue"])]),_:1}),e(c,{label:"就诊时间"},{default:t(()=>[e(P,{modelValue:p.visitTime,"onUpdate:modelValue":o[2]||(o[2]=a=>p.visitTime=a),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1})]),"dropdown-items":t(({row:a})=>[e(w,{command:"viewDetail"},{default:t(()=>o[4]||(o[4]=[l("查看详情")])),_:1}),e(w,{command:"viewEcg"},{default:t(()=>o[5]||(o[5]=[l("心电图记录")])),_:1})]),default:t(()=>[e(r,{prop:"visitNo",label:"就诊编号",width:"120"},{default:t(({row:a})=>[e(h,{type:"primary",onClick:C=>T(a)},{default:t(()=>[l(n(a.visitNo),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{prop:"patientNo",label:"患者编号",width:"120"}),e(r,{prop:"patientName",label:"患者姓名",width:"100"},{default:t(({row:a})=>[e(h,{type:"primary",onClick:C=>D(a)},{default:t(()=>[l(n(a.patientName),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{prop:"visitTime",label:"就诊时间",width:"120"}),e(r,{prop:"department",label:"就诊科室",width:"120"}),e(r,{prop:"doctor",label:"主治医生",width:"100"}),e(r,{prop:"diagnosis",label:"诊断结果","min-width":"200","show-overflow-tooltip":""}),e(r,{prop:"status",label:"状态",width:"100"},{default:t(({row:a})=>[e(V,{type:g(a.status)},{default:t(()=>[l(n(a.status),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["search-form"]),e(x,{modelValue:b.value,"onUpdate:modelValue":o[3]||(o[3]=a=>b.value=a),title:"就诊详情",width:"800px"},{default:t(()=>[e(R,{column:2,border:""},{default:t(()=>[e(d,{label:"就诊编号"},{default:t(()=>[l(n(s.value.visitNo),1)]),_:1}),e(d,{label:"就诊时间"},{default:t(()=>[l(n(s.value.visitTime),1)]),_:1}),e(d,{label:"患者编号"},{default:t(()=>[l(n(s.value.patientNo),1)]),_:1}),e(d,{label:"患者姓名"},{default:t(()=>[l(n(s.value.patientName),1)]),_:1}),e(d,{label:"就诊科室"},{default:t(()=>[l(n(s.value.department),1)]),_:1}),e(d,{label:"主治医生"},{default:t(()=>[l(n(s.value.doctor),1)]),_:1}),e(d,{label:"状态"},{default:t(()=>[e(V,{type:g(s.value.status)},{default:t(()=>[l(n(s.value.status),1)]),_:1},8,["type"])]),_:1}),e(d,{label:"挂号费用"},{default:t(()=>[l(n(s.value.fee)+"元",1)]),_:1}),e(d,{label:"主诉",span:2},{default:t(()=>[l(n(s.value.complaint),1)]),_:1}),e(d,{label:"诊断结果",span:2},{default:t(()=>[l(n(s.value.diagnosis),1)]),_:1}),e(d,{label:"处理意见",span:2},{default:t(()=>[l(n(s.value.treatment),1)]),_:1}),e(d,{label:"医嘱",span:2},{default:t(()=>[l(n(s.value.advice),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},q=S(F,[["__scopeId","data-v-b10d917a"]]);export{q as default};
