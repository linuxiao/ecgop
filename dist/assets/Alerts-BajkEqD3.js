import{_ as I,e as H,r as c,g as n,o as T,c as J,d as e,w as a,b as _,h as K,p as O,k as r,a1 as v,t as f,q as Q,C as W,E as X}from"./index-0Rub1XVr.js";const Y={class:"alerts"},Z={class:"card-header"},ee={class:"actions"},le={class:"pagination"},te={__name:"Alerts",setup(ae){const g=H(),s=c({alertNo:"",deviceNo:"",alertType:"",status:""}),S=c([{alertNo:"A202401001",alertTime:"2024-03-14 09:30:00",alertType:"设备离线",level:"严重",deviceNo:"ECG001",content:"设备已离线超过30分钟，请检查网络连接状态",status:"pending"},{alertNo:"A202401002",alertTime:"2024-03-14 10:15:00",alertType:"数据异常",level:"警告",deviceNo:"ECG002",content:"心电数据采集异常，请检查设备状态",status:"processing"}]),b=c(1),y=c(10),x=c(100),z=o=>({严重:"danger",警告:"warning",提示:"info"})[o]||"info",$=o=>({pending:"danger",processing:"warning",resolved:"success",closed:"info"})[o]||"info",U=o=>({pending:"待处理",processing:"处理中",resolved:"已解决",closed:"已关闭"})[o]||o,m=()=>{console.log("Search form:",s.value)},E=()=>{s.value={alertNo:"",deviceNo:"",alertType:"",status:""},m()},R=()=>{X.success("刷新成功")},A=o=>{g.push(`/alerts/${o.alertNo}`)},C=o=>{g.push(`/alerts/${o.alertNo}`)},B=o=>{g.push(`/devices/ecg/${o.deviceNo}`)},D=o=>{C(o)},P=o=>{y.value=o,m()},G=o=>{b.value=o,m()};return(o,l)=>{const L=n("el-icon"),p=n("el-button"),h=n("el-input"),u=n("el-form-item"),d=n("el-option"),k=n("el-select"),M=n("el-form"),V=n("el-link"),i=n("el-table-column"),w=n("el-tag"),j=n("el-table"),q=n("el-pagination"),F=n("el-card");return T(),J("div",Y,[e(F,null,{header:a(()=>[_("div",Z,[l[7]||(l[7]=_("span",{class:"title"},"告警管理",-1)),_("div",ee,[e(p,{type:"primary",onClick:R},{default:a(()=>[e(L,null,{default:a(()=>[e(K(O))]),_:1}),l[6]||(l[6]=r("刷新 "))]),_:1})])])]),default:a(()=>[e(M,{model:s.value,inline:""},{default:a(()=>[e(u,{label:"告警编号"},{default:a(()=>[e(h,{modelValue:s.value.alertNo,"onUpdate:modelValue":l[0]||(l[0]=t=>s.value.alertNo=t),placeholder:"请输入告警编号",clearable:""},null,8,["modelValue"])]),_:1}),e(u,{label:"设备编号"},{default:a(()=>[e(h,{modelValue:s.value.deviceNo,"onUpdate:modelValue":l[1]||(l[1]=t=>s.value.deviceNo=t),placeholder:"请输入设备编号",clearable:""},null,8,["modelValue"])]),_:1}),e(u,{label:"告警类型"},{default:a(()=>[e(k,{modelValue:s.value.alertType,"onUpdate:modelValue":l[2]||(l[2]=t=>s.value.alertType=t),placeholder:"请选择告警类型",clearable:""},{default:a(()=>[e(d,{label:"设备离线",value:"offline"}),e(d,{label:"设备故障",value:"fault"}),e(d,{label:"数据异常",value:"data"})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"状态"},{default:a(()=>[e(k,{modelValue:s.value.status,"onUpdate:modelValue":l[3]||(l[3]=t=>s.value.status=t),placeholder:"请选择状态",clearable:""},{default:a(()=>[e(d,{label:"待处理",value:"pending"}),e(d,{label:"处理中",value:"processing"}),e(d,{label:"已解决",value:"resolved"}),e(d,{label:"已关闭",value:"closed"})]),_:1},8,["modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(p,{type:"primary",onClick:m},{default:a(()=>l[8]||(l[8]=[r("查询")])),_:1}),e(p,{onClick:E},{default:a(()=>l[9]||(l[9]=[r("重置")])),_:1})]),_:1})]),_:1},8,["model"]),e(j,{data:S.value,style:{width:"100%"},onRowClick:D},{default:a(()=>[e(i,{prop:"alertNo",label:"告警编号","min-width":"120"},{default:a(({row:t})=>[e(V,{type:"primary",onClick:v(N=>C(t),["stop"])},{default:a(()=>[r(f(t.alertNo),1)]),_:2},1032,["onClick"])]),_:1}),e(i,{prop:"alertTime",label:"告警时间","min-width":"160"}),e(i,{prop:"alertType",label:"告警类型","min-width":"120"}),e(i,{prop:"level",label:"告警级别","min-width":"100"},{default:a(({row:t})=>[e(w,{type:z(t.level)},{default:a(()=>[r(f(t.level),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"deviceNo",label:"设备编号","min-width":"120"},{default:a(({row:t})=>[e(V,{type:"primary",onClick:v(N=>B(t),["stop"])},{default:a(()=>[r(f(t.deviceNo),1)]),_:2},1032,["onClick"])]),_:1}),e(i,{prop:"content",label:"告警内容","min-width":"200","show-overflow-tooltip":""}),e(i,{prop:"status",label:"状态","min-width":"100"},{default:a(({row:t})=>[e(w,{type:$(t.status)},{default:a(()=>[r(f(U(t.status)),1)]),_:2},1032,["type"])]),_:1}),e(i,{label:"操作",width:"120",fixed:"right"},{default:a(({row:t})=>[t.status==="pending"?(T(),Q(p,{key:0,type:"primary",link:"",onClick:v(N=>A(t),["stop"])},{default:a(()=>l[10]||(l[10]=[r(" 处理 ")])),_:2},1032,["onClick"])):W("",!0),e(p,{type:"primary",link:"",onClick:v(N=>C(t),["stop"])},{default:a(()=>l[11]||(l[11]=[r(" 详情 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),_("div",le,[e(q,{"current-page":b.value,"onUpdate:currentPage":l[4]||(l[4]=t=>b.value=t),"page-size":y.value,"onUpdate:pageSize":l[5]||(l[5]=t=>y.value=t),total:x.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:P,onCurrentChange:G},null,8,["current-page","page-size","total"])])]),_:1})])}}},ne=I(te,[["__scopeId","data-v-0fb6a347"]]);export{ne as default};
